{"version":3,"sources":["axios.js","carts/Cart.js","carts/CartItem.js","products/List.js","components/Home.js","auth/Login.js","auth/Register.js","components/Headers.js","auth/Logout.js","App.js","index.js"],"names":["baseURL","axiosInstance","axios","create","timeout","headers","Authorization","localStorage","getItem","accept","interceptors","response","use","a","error","originalRequest","config","alert","Promise","reject","status","url","window","location","href","data","code","statusText","refreshToken","tokenParts","JSON","parse","atob","split","now","Math","ceil","Date","console","log","exp","post","refresh","then","setItem","access","defaults","catch","err","Cart","get","className","id","CartItem","formData","FormData","append","List","u_id","st","token1","decode1","require","decode","user_id","useState","appState","setAppState","cartItems","setCartItems","cartArry","setCartArry","amount","setAmount","show","setShow","useEffect","res","allProducts","bottom","cascade","map","product","tabIndex","src","image","style","width","height","title","price","onClick","props","added","forEach","itm","item","quantity","line_item_total","parseInt","object","item_title","ln","length","addCart","ct","total","left","filter","x","removeFromCart","right","for","type","name","exact","to","Home","Login","history","useHistory","initialFormData","Object","freeze","email","password","updateFormData","handleChange","e","target","value","trim","tabindex","role","aria-labelledby","aria-hidden","data-dismiss","aria-label","backgroundColor","color","placeholder","onChange","preventDefault","push","pathname","reload","Register","username","user_name","Headers","fontSize","marginRight","data-toggle","data-target","aria-controls","aria-expanded","Logout","refresh_token","removeItem","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd371805.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseURL = \"https://ecmm1.herokuapp.com/api/\";\n// const baseURL = \"http://127.0.0.1:8000/api/\";\n\n\nconst axiosInstance = axios.create({\n  baseURL: baseURL,\n  timeout: 5000,\n  headers: {\n    Authorization: localStorage.getItem(\"access_token\")\n      ? \"JWT \" + localStorage.getItem(\"access_token\")\n      : null,\n    \"Content-Type\": \"application/json\",\n    accept: \"application/json\",\n  },\n});\n\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  async function (error) {\n    const originalRequest = error.config;\n\n    if (typeof error.response === \"undefined\") {\n      alert(\n        \"A server/network error occurred. \" +\n          \"Looks like CORS might be the problem. \" +\n          \"Sorry about this - we will get it fixed shortly.\"\n      );\n      return Promise.reject(error);\n    }\n\n    if (\n      error.response.status === 401 &&\n      originalRequest.url === baseURL + \"token/refresh/\"\n    ) {\n      window.location.href = \"/login/\";\n      return Promise.reject(error);\n    }\n\n    if (\n      error.response.data.code === \"token_not_valid\" &&\n      error.response.status === 401 &&\n      error.response.statusText === \"Unauthorized\"\n    ) {\n      const refreshToken = localStorage.getItem(\"refresh_token\");\n\n      if (refreshToken) {\n        const tokenParts = JSON.parse(atob(refreshToken.split(\".\")[1]));\n\n        // exp date in token is expressed in seconds, while now() returns milliseconds:\n        const now = Math.ceil(Date.now() / 1000);\n        console.log(tokenParts.exp);\n\n        if (tokenParts.exp > now) {\n          return axiosInstance\n            .post(\"/token/refresh/\", { refresh: refreshToken })\n            .then((response) => {\n              localStorage.setItem(\"access_token\", response.data.access);\n              localStorage.setItem(\"refresh_token\", response.data.refresh);\n\n              axiosInstance.defaults.headers[\"Authorization\"] =\n                \"JWT \" + response.data.access;\n              originalRequest.headers[\"Authorization\"] =\n                \"JWT \" + response.data.access;\n\n              return axiosInstance(originalRequest);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        } else {\n          console.log(\"Refresh token is expired\", tokenParts.exp, now);\n          window.location.href = \"/login/\";\n        }\n      } else {\n        console.log(\"Refresh token not available.\");\n        window.location.href = \"/login/\";\n      }\n    }\n\n    // specific error handling done elsewhere\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosInstance;\n","import React, { useEffect, useState } from \"react\";\nimport axiosInstance from \"../axios\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Cart() {\n\n        axiosInstance.get(\"carts/order\")\n  return (\n    <div>\n      <div className=\"rightSection\" id=\"card\">\n        Your Order Have Been Completed, We Will Contatce With You Soon\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axiosInstance from \"../axios\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function CartItem() {\n  let cnt = 0;\n\n  let formData = new FormData()\n  formData.append(\"cart\", 2)\n  formData.append(\"item\", 3)\n  formData.append(\"quantity\", 50);\n  formData.append(\"line_item_total\", 200);\n\n  // axiosInstance.post(`carts/details`, formData)\n  return (\n    <div>\n      <div className=\"\">CartItem</div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axiosInstance from \"../axios\";\nimport { useHistory } from \"react-router-dom\";\nimport CartItem from \"../carts/CartItem\";\nimport Cart from \"../carts/Cart\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport Fade from 'react-reveal/Fade'\n\nexport default function List() {\n\n   let u_id = \"\";\n   const st = localStorage.getItem(\"access_token\")\n     ? localStorage.getItem(\"access_token\")\n     : null;\n   if (st) {\n     const jwt = require(\"jsonwebtoken\");\n     const token1 = st;\n     const decode1 = jwt.decode(token1);\n     u_id = decode1.user_id;\n   }\n   console.log(u_id, \"This is user\");\n\n    const [appState, setAppState] = useState([]);\n    const [cartItems, setCartItems] = useState([]);\n    const [cartState, setCartState] = useState([]);\n    const [cartArry, setCartArry] = useState([]);\n    const [amount, setAmount] = useState(0)\n    const [show, setShow]=useState(false)\n    useEffect(() => {\n        axiosInstance.get(\"products/\").then((res) => {\n        const allProducts = res.data;\n        console.log(allProducts, \"All Products\")\n        setAppState(allProducts);\n        });\n    }, [setAppState]);\n\n\n    const ShowCart = () => {\n      useEffect(() => {\n        if(u_id){\n        axiosInstance.get(\"carts/\").then((res) => {\n          setCartArry(res.data);\n          setCartItems(res.data)\n          console.log(cartArry, \"All Cart\");\n          \n        });\n        axiosInstance.get(\"carts/cart\").then((res) => {\n          const allProducts = res.data;\n          allProducts.forEach((ct) => {\n            setAmount(parseInt(ct.total));\n          });\n        });\n      }\n      }, [setCartArry]);\n    };\n\n    const showChek=()=>{\n      console.log(show, \"Show is here\");\n      if(show == false){\n        setShow(true)      }\n      else{\n        setShow(false)\n      }\n    }\n\n    const removeFromCart=(props)=>{\n      let formData = new FormData();\n      formData.append(\"item\", props.item);\n      formData.append(\"quantity\", 0);\n      axiosInstance.post(`carts/details`, formData);\n      setCartItems([...cartItems.filter((x)=>x.item!=props.item)])\n      setAmount(amount - parseInt(props.line_item_total));\n      \n      \n    }\n\n    const addCart=(props)=>{\n       if(u_id){\n         let formData = new FormData();\n         formData.append(\"item\", props.id);\n         formData.append(\"quantity\", 1);\n         console.log(props, \"This is the product\");\n         axiosInstance.post(`carts/details`, formData);\n         let added = true;\n         cartItems.forEach((itm) => {\n           if (itm.item === props.id) {\n             itm.quantity++;\n             itm.line_item_total =\n               parseInt(itm.line_item_total) + parseInt(props.price);\n             itm.line_item_total = itm.line_item_total + \".00\";\n             setCartItems([...cartItems], cartItems);\n             setAmount(amount + parseInt(props.price));\n             console.log(itm.quantity, \"The quentity\");\n             console.log(itm, \"Already exist in list\");\n             added = false;\n           }\n         });\n         if (added == true) {\n           console.log(\"added this item\");\n           const object = {\n             item: props.id,\n             item_title: props.title,\n             quantity: 1,\n             line_item_total: props.price,\n           };\n           console.log(object, \"This is new object\");\n           let ln = cartItems.length;\n           cartItems[ln] = object;\n           setCartItems([...cartItems], cartItems);\n           setAmount(amount + parseInt(props.price));\n           added = false;\n         }\n       }\n      \n    }\n\n\n  return (\n    <div>\n      <Fade bottom cascade={true}>\n        <div className=\"leftSection\">\n          {appState.map((product) => (\n            <div className=\"card\" key={product.id} tabIndex={-1}>\n              <img src={product.image} style={{ width: \"100%\",  height:\"250px\" }} />\n              <h5>{product.title}</h5>\n              <p className=\"price\">{product.price} Tk</p>\n              <p>\n                <button onClick={() => addCart(product)}>Add to Cart</button>\n              </p>\n            </div>\n          ))}\n        </div>\n      </Fade>\n      <div className=\"rigthSection\">\n        {ShowCart()}\n        <Fade left cascade={true}>\n          <div className=\"cartt\">\n            {u_id && (\n              <div>\n                <h5> You have {cartItems.length} Items in your cart </h5>\n              </div>\n            )}\n            {cartItems.map((itm) => (\n              <div className=\"cartText\" key={itm.item} tabIndex={-1}>\n                <div>\n                  >{itm.item_title}--\n                  {(itm.quantity < 10 ? \"0\" : \"\") + itm.quantity}p =={\" \"}\n                  {itm.line_item_total} Tk\n                  <button\n                    className=\"ml-2 rmButton\"\n                    onClick={() => removeFromCart(itm)}\n                  >\n                    Remove\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </Fade>\n\n        {u_id ? (\n          <div>\n            {amount ? (\n              <div>\n                <div className=\"amount\">\n                  Total=={amount}.00 Tk\n                  <button onClick={() => showChek()} className=\"proceedBtn\">\n                    Proceed\n                  </button>\n                </div>\n                {show && (\n                  <Fade right cascade={true}>\n                    <div>\n                      <form>\n                        <label for=\"fname\">Your Name:</label>\n                        <input type=\"text\" id=\"fname\" name=\"fname\" />\n                        <br />\n                        <label for=\"lname\">Mobile Number:</label>\n                        <input type=\"text\" id=\"lname\" name=\"lname\" />\n                        <br />\n                        <div>\n                          <NavLink className=\"orderButton\" exact to=\"/carts\">\n                            CheckOut\n                          </NavLink>\n                        </div>\n                      </form>\n                    </div>\n                  </Fade>\n                )}\n                {/* <div>\n                  <NavLink className=\"orderButton\" exact to=\"/carts\">\n                    CheckOut\n                  </NavLink>\n                </div> */}\n              </div>\n            ) : (\n              \"\"\n            )}\n          </div>\n        ) : (\n          <h5>You Must Be Login First To add Item in your cart</h5>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Cart from \"../carts/Cart\";\nimport List from \"../products/List\";\n\nconst Home = () => {\n  const st = localStorage.getItem(\"access_token\");\n    console.log(st, \"This is token\");\n  return <div>\n    <List />\n    {/* <Cart /> */}\n</div>\n};\nexport default Home;\n","import React, { useState } from \"react\";\nimport axiosInstance from \"../axios\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n  const history = useHistory();\n  const initialFormData = Object.freeze({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = (e) => {\n    updateFormData({\n      ...formData,\n      [e.target.name]: e.target.value.trim(),\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(formData);\n\n    axiosInstance\n      .post(`token/`, {\n        email: formData.email,\n        password: formData.password,\n      })\n      .then((res) => {\n        localStorage.setItem(\"access_token\", res.data.access);\n        localStorage.setItem(\"refresh_token\", res.data.refresh);\n        axiosInstance.defaults.headers[\"Authorization\"] =\n          \"JWT \" + localStorage.getItem(\"access_token\");\n        history.push({\n          pathname: \"/\",\n        });\n        window.location.reload();\n      });\n      // window.location.reload();\n      \n  };\n\n  return (\n    <div className=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        <h5 className=\"ml-10\" id=\"exampleModalLongTitle\">Login Here</h5>\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div className=\"modal-body h-100\" style={{backgroundColor: \"#000\"}}>\n      <div className=\"col-md-12 col-md-offset-3 my-5\">\n      <form>\n        <div className=\"form-group\">\n          <label style={{color: \"white\"}} >Email address</label>\n          <input\n            type=\"email\"\n            className=\" form-control form-control-lg border border-info\"\n            name=\"email\"\n            placeholder=\"Enter Email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label style={{color: \"white\"}}>Password</label>\n          <input\n            type=\"password\"\n            className=\"form-control form-control-lg border border-info\"\n            name=\"password\"\n            placeholder=\"Password\"\n            onChange={handleChange}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"btnn\"\n          onClick={handleSubmit}\n          data-dismiss=\"modal\"\n        >\n          Submit\n        </button>\n      </form>\n    </div>\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\" style={{backgroundColor: \"#000\"}}>Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n  );\n};\n\nexport default Login;\n\n\n","import React, { useState } from \"react\";\nimport axiosInstance from \"../axios\";\nimport { useHistory } from \"react-router-dom\";\nimport Login from \"./Login\";\n\nconst Register = () => {\n  const history = useHistory();\n  const initialFormData = Object.freeze({\n    email: \"\",\n    username: \"\",\n    password: \"\",\n  });\n\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = (e) => {\n    updateFormData({\n      ...formData,\n      // Trimming any whitespace\n      [e.target.name]: e.target.value.trim(),\n    });\n  };\n\n  const handleSubmit = (e) => {\n\n    axiosInstance\n      .post(`user/register/`, {\n        email: formData.email,\n        user_name: formData.username,\n        password: formData.password,\n      })\n      .post(`token/`, {\n        email: formData.email,\n        password: formData.password,\n      })\n      .then((res) => {\n        history.push(\"/login\");\n        console.log(res);\n        console.log(res.data);\n        history.push({\n          pathname: \"/\",\n        });\n        window.location.reload();\n      });\n  };\n  return (\n    <div\n      className=\"modal fade\"\n      id=\"exampleModalCenterr\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"exampleModalCenterTitle\"\n      aria-hidden=\"true\"\n    >\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"ml-10\" id=\"exampleModalLongTitle\">\n              Register Here\n            </h5>\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div\n            className=\"modal-body h-100 \"\n            style={{ backgroundColor: \"#000\" }}\n          >\n            <div className=\"col-md-12 col-md-offset-3 my-5\">\n              <form className=\"my-3\">\n                <div className=\"form-group\">\n                  <label style={{ color: \"white\" }}>Email address</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control border border-info\"\n                    name=\"email\"\n                    placeholder=\"Enter Email\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label style={{ color: \"white\" }}>User Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control border border-info\"\n                    name=\"username\"\n                    placeholder=\"Enter Username\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label style={{ color: \"white\" }}>Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control border border-info\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    onChange={handleChange}\n                  />\n                </div>\n                <button type=\"submit\" className=\"btnn\" onClick={handleSubmit}>\n                  Submit\n                  <Login/>\n                </button>\n              </form>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              data-dismiss=\"modal\"\n              style={{ backgroundColor: \"#000\" }}\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport Login from \"../auth/Login\";\nimport Register from \"../auth/Register\";\nimport Cart from \"../carts/Cart\";\n\nconst Headers = () => {\n  let u_id = \"\";\n  const st = localStorage.getItem(\"access_token\")\n    ? localStorage.getItem(\"access_token\")\n    : null;\n  if (st) {\n    const jwt = require(\"jsonwebtoken\");\n    const token1 = st;\n    const decode1 = jwt.decode(token1);\n    u_id = decode1.user_id;\n  }\n  return (\n    <nav\n      className=\"navbar navbar-expand-lg navbar-dark \"\n      style={{ backgroundColor: \"#000\" }}\n    >\n      <Link\n        to=\"/\"\n        style={{ color: \"#00FFFF\", fontSize: \"40px\", marginRight: \"10px\" }}\n      >\n        ECM\n      </Link>\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <NavLink className=\"btnn\" exact to=\"\">\n              Home <span className=\"sr-only\">(current)</span>\n            </NavLink>\n          </li>\n        </ul>\n        <ul className=\"navbar-nav\">\n          <div>\n            <li className=\"nav-item\">\n              <button\n                type=\"button\"\n                className=\"btnn\"\n                data-toggle=\"modal\"\n                data-target=\"#exampleModalCenter\"\n              >\n                Login\n              </button>\n            </li>\n            <Login />\n          </div>\n          {!u_id && (\n            <div>\n              <li className=\"nav-item\">\n                <button\n                  type=\"button\"\n                  className=\"btnn\"\n                  data-toggle=\"modal\"\n                  data-target=\"#exampleModalCenterr\"\n                >\n                  Register\n                </button>\n              </li>\n              <Register />\n            </div>\n          )}\n          {u_id && (\n            <li className=\"nav-item\">\n              <NavLink className=\"btnn\" exact to=\"/logout\">\n                Logout\n              </NavLink>\n            </li>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\nexport default Headers;\n","import React, { useEffect } from \"react\";\nimport axiosInstance from \"../axios\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Logout() {\n  const history = useHistory();\n\n  useEffect(() => {\n    const response = axiosInstance.post(\"user/logout/blacklist/\", {\n      refresh_token: localStorage.getItem(\"refresh_token\"),\n    });\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"refresh_token\");\n    axiosInstance.defaults.headers[\"Authorization\"] = null;\n    history.push(\"/\");\n    window.location.reload();\n  });\n  return <div>Logout</div>;\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport Headers from \"./components/Headers\";\nimport \"./App.css\";\nimport Logout from \"./auth/Logout\";\nimport Cart from \"./carts/Cart\";\nimport CartItem from \"./carts/CartItem\";\nimport Login from \"./auth/Login\";\n\nfunction App() {\n  return (\n    <Router>\n      <Headers />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/logout\" component={Logout} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/carts\" component={Cart} />\n        <Route exact path=\"/carts/cartitem\" component={CartItem} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}